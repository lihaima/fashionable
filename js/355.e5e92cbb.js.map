{"version":3,"file":"js/355.e5e92cbb.js","mappings":"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","sources":["webpack://music/./src/store/artist.js","webpack://music/./src/components/MusicTop.vue","webpack://music/./src/components/MusicTop.vue?e12b","webpack://music/./src/components/SongList.vue","webpack://music/./src/components/SongList.vue?d526","webpack://music/./src/components/ArtistSongs.vue","webpack://music/./src/components/ArtistSongs.vue?4be3","webpack://music/./src/views/Artist/index.vue","webpack://music/./src/views/Artist/index.vue?4e21"],"sourcesContent":["import {defineStore} from \"pinia\"\r\nimport {reqArtist,reqArtistSongS} from '../api/index'\r\n\r\n\r\nexport default defineStore(\"artist\",{\r\n    state(){\r\n        return {\r\n            artistList:[],\r\n            more: true,\r\n            isSongsShow:false,\r\n            artist:{},\r\n            songsList:[]\r\n        }\r\n    },\r\n    actions:{\r\n        // 获取歌手列表\r\n       async getArtist(query){\r\n           const {type,area,offset,initial} = query\r\n           let artist =await reqArtist(type,area,offset,initial)\r\n           if(artist.more) return this.artistList = [...this.artistList,...artist.artists]\r\n           this.more = artist.more\r\n        },\r\n        // 获取歌手歌曲列表\r\n       async getSongs(id){\r\n        this.songsList = []\r\n            let songs = await reqArtistSongS(id)\r\n            if(songs.code === 200) this.songsList = songs.songs\r\n        },\r\n        // 歌手分类列表\r\n        async getClassifySinger(query){\r\n            const {type,area,offset,initial} = query\r\n           let artist =await reqArtist(type,area,offset,initial)\r\n           this.artistList = artist.artists\r\n        }\r\n    }\r\n})","<template>\r\n  <div class=\"top\">\r\n      <div class=\"top-left\">\r\n        <svg class=\"icon\" aria-hidden=\"true\" @touchstart=\"retreats\">\r\n          <use xlink:href=\"#icon-zuo\"></use>\r\n        </svg>\r\n        <span>{{props.name}}</span>\r\n      </div>\r\n      <div class=\"top-right\">\r\n        <svg class=\"icon\" aria-hidden=\"true\" @click=\"goSearch\">\r\n          <use xlink:href=\"#icon-sousuo\"></use>\r\n        </svg>\r\n        <svg class=\"icon\" aria-hidden=\"true\">\r\n          <use xlink:href=\"#icon-gengduo\"></use>\r\n        </svg>\r\n      </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport {defineProps} from 'vue'\r\nimport { useRouter } from \"vue-router\";\r\nimport artistState from '../store/artist'\r\n\r\nconst router = useRouter();\r\nconst props = defineProps([\"name\",\"isShow\"])\r\n\r\nconst retreats = () => {\r\n  if(!props?.isShow)return  router.back()\r\n  artistState().isSongsShow=false\r\n};\r\n\r\n\r\nconst goSearch = () =>{\r\n  router.push({path:\"/search\"})\r\n}\r\n</script>\r\n\r\n<style scoped lang='less'>\r\n .top {\r\n   background: rgba(165,152,148,.3);\r\n    display: flex;\r\n    justify-content: space-between;\r\n    height: 30rem;\r\n    .top-left,\r\n    .top-right {\r\n      width: 100rem;\r\n      height: 100%;\r\n      display: flex;\r\n      justify-content: space-around;\r\n      align-items: center;\r\n      color: #fff;\r\n    }\r\n  }\r\n</style>","import script from \"./MusicTop.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MusicTop.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./MusicTop.vue?vue&type=style&index=0&id=cfb244c4&scoped=true&lang=less\"\n\nimport exportComponent from \"C:\\\\Users\\\\qingskd\\\\Desktop\\\\music\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-cfb244c4\"]])\n\nexport default __exports__","<template>\r\n<!-- 歌曲列表 -->\r\n   <div class=\"MusicList\">\r\n      <div class=\"item\" v-for=\"(item, index) in props.songs\" :key=\"index\">\r\n        <div class=\"item-left\" @click=\"switchover(props.songs, index)\">\r\n          <span>{{ index + 1 }}</span>\r\n          <div class=\"name\">\r\n            <span>{{ item?.name }}</span\r\n            ><br />\r\n            <span style=\"color: #c0c0c0\">{{ item?.ar[0]?.name }}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"item-right\">\r\n          <svg class=\"icon icon1\" aria-hidden=\"true\" v-if=\"item.mv != 0\">\r\n            <use xlink:href=\"#icon-bofangMV\"></use>\r\n          </svg>\r\n          <svg class=\"icon icon2\" aria-hidden=\"true\">\r\n            <use xlink:href=\"#icon-gengduo\"></use>\r\n          </svg>\r\n        </div>\r\n      </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport itemMusicStore from \"../store/itemMusic\";\r\nimport { storeToRefs } from \"pinia\";\r\nconst state = itemMusicStore();\r\nconst { detailSongs} = storeToRefs(state);\r\nconst props = defineProps(['songs'])\r\n\r\nconst switchover = (detailSongs, index) => {\r\n  state.playListIndex = index\r\n  state.playList = detailSongs\r\n};\r\n</script>\r\n\r\n<style scoped lang='less'>\r\n .MusicList {\r\n    .item {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      padding: 10rem;\r\n      .item-left {\r\n        width: 240rem;\r\n        display: flex;\r\n        font-size: 14rem;\r\n        align-items: center;\r\n        .name {\r\n          width: 100%;\r\n          margin-left: 20rem;\r\n          overflow: hidden;\r\n          white-space: nowrap;\r\n          text-overflow: ellipsis;\r\n        }\r\n      }\r\n      .item-right {\r\n        width: 80rem;\r\n        color: #c0c0c0;\r\n        .icon1 {\r\n          float: left;\r\n        }\r\n        .icon2 {\r\n          float: right;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>","import script from \"./SongList.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SongList.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SongList.vue?vue&type=style&index=0&id=28154130&scoped=true&lang=less\"\n\nimport exportComponent from \"C:\\\\Users\\\\qingskd\\\\Desktop\\\\music\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-28154130\"]])\n\nexport default __exports__","<template>\r\n  <div class='artistSongs'>\r\n      <MusicTop :name=\"artists?.name\" :isShow=\"true\" />\r\n      <div class=\"name\">\r\n          <img :src=\"artists?.picUrl\" alt=\"\">\r\n      </div>\r\n      <!-- 歌曲列表 -->\r\n     <SongsList :songs=\"songs\" />\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport {onMounted,computed} from 'vue'\r\nimport artistStore from '../store/artist'\r\nimport MusicTop from './MusicTop.vue'\r\nimport SongsList from './SongList.vue'\r\nconst state = artistStore()\r\n\r\n// 歌曲列表\r\nconst songs = computed(()=>{\r\n    return state.songsList\r\n})\r\n\r\n// 歌手信息\r\nconst artists = computed(()=>{\r\n    return state.artist\r\n})\r\n\r\n</script>\r\n\r\n<style scoped lang='less'>\r\n.artistSongs{\r\n    .name{\r\n        img{\r\n            width: 100%;\r\n            height: 300rem;\r\n        }\r\n    }\r\n}\r\n</style>","import script from \"./ArtistSongs.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ArtistSongs.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ArtistSongs.vue?vue&type=style&index=0&id=d109f52a&scoped=true&lang=less\"\n\nimport exportComponent from \"C:\\\\Users\\\\qingskd\\\\Desktop\\\\music\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-d109f52a\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"artist\">\r\n    <MusicTop name=\"歌手\" />\r\n    <div class=\"artistClassify\">\r\n      <div class=\"placeAll\">\r\n        <span @click=\"getPlace(index,item.id)\" :class=\"{'highlight':index===place}\" class=\"\" v-for=\"(item, index) in placeAll\" :key=\"index\">{{ item.name }}</span>\r\n      </div>\r\n      <div class=\"sexAll\">\r\n        <span @click=\"getSex(index,item.id)\" :class=\"{'highlight':index===sex}\" v-for=\"(item, index) in sexAll\" :key=\"index\">{{ item.name }}</span>\r\n      </div>\r\n    </div>\r\n    <div class=\"artistList\">\r\n      <van-list\r\n        v-model:loading=\"loading\"\r\n        :finished=\"finished\"\r\n        finished-text=\"没有更多了\"\r\n        @load=\"onLoad\"\r\n      >\r\n        <div class=\"item\" v-for=\"item in artistList\" :key=\"item.id\" @click=\"goartistSongs(item)\">\r\n          <div class=\"name\">\r\n            <img :src=\"item.picUrl\" alt=\"\"  v-lazy=\"item.picUrl\"/>\r\n            <span>{{ item.name }}</span>\r\n          </div>\r\n          <div class=\"attention\">+ 关注</div>\r\n        </div>\r\n      </van-list>\r\n    </div>\r\n    <van-popup v-model:show=\"isSongsShow\" position=\"right\" :style=\"{ height: '100%', width: '100%' }\" >\r\n        <ArtistSongs />\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { onMounted, ref} from \"vue\";\r\nimport { storeToRefs } from \"pinia\";\r\nimport MusicTop from \"../../components/MusicTop.vue\";\r\nimport ArtistSongs from '../../components/ArtistSongs.vue'\r\nimport { reactive } from \"vue\";\r\nimport artistStroe from \"../../store/artist\";\r\nconst state = artistStroe();\r\nconst {artistList,more,isSongsShow } = storeToRefs(state);\r\n\r\n// 请求数据\r\nconst query = {\r\n    type:-1,\r\n    area:-1,\r\n    offset:-1,\r\n    initial:-1\r\n}\r\n\r\n\r\n\r\n// 分类请求\r\nlet place = ref(0)\r\nlet sex = ref(0)\r\nconst getSex = (index,id) => {\r\n  sex.value = index\r\n  query.type=id\r\n  state.getClassifySinger(query)\r\n}\r\nconst getPlace = (index,id) => {\r\n  place.value = index\r\n  query.area=id\r\n  state.getClassifySinger(query)\r\n}\r\n\r\n// 分类数据\r\nconst placeAll = reactive([\r\n  { name: \"全部\",id:-1 },\r\n  { name: \"华语\",id:7 },\r\n  { name: \"欧美\",id:96 },\r\n  { name: \"日本\",id:8 },\r\n  { name: \"韩国\",id:16 },\r\n  { name: \"其他\",id:0 },\r\n]);\r\nconst sexAll = reactive([\r\n  { name: \"全部\",id:-1 },\r\n  { name: \"男\",id:1 },\r\n  { name: \"女\",id:2 },\r\n  { name: \"乐队\",id:3 },\r\n]);\r\n\r\n// 上拉触底\r\nlet loading = ref(false);\r\nlet finished = ref(false);\r\nconst onLoad = async () => {\r\n  query.offset++\r\n  await state.getArtist(query);\r\n  loading.value=false\r\n  if(!more){\r\n       finished.value = true;\r\n  }\r\n};\r\n\r\n// 获取并打开歌手歌曲列表\r\nconst goartistSongs = (item) => {\r\n  state.getSongs(item.id)\r\n    state.artist = item\r\n    state.isSongsShow=true\r\n}\r\n</script>\r\n\r\n<style scoped lang='less'>\r\n.artist {\r\n  .artistClassify {\r\n    .highlight{\r\n        background-color: aquamarine;\r\n        color: #fff;\r\n      }\r\n    .placeAll {\r\n      margin-top: 20rem;\r\n      span {\r\n        border: 1rem solid #000;\r\n        padding: 5rem 10rem;\r\n        border-radius: 20rem;\r\n        margin-left: 5rem;\r\n      }\r\n    }\r\n    .sexAll {\r\n      margin-top: 20rem;\r\n      span {\r\n        border: 1rem solid #000;\r\n        padding: 5rem 10rem;\r\n        border-radius: 20rem;\r\n        margin-left: 5rem;\r\n      }\r\n    }\r\n  }\r\n  .artistList {\r\n    margin-top: 20rem;\r\n    .item {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      //   border: 1rem solid #000;\r\n      padding: 10rem;\r\n      .name {\r\n        display: flex;\r\n        align-items: center;\r\n        img {\r\n          width: 60rem;\r\n          height: 60rem;\r\n          border-radius: 50%;\r\n        }\r\n        span {\r\n          margin-left: 10rem;\r\n        }\r\n      }\r\n      .attention {\r\n        border: 1rem solid #000;\r\n        border-radius: 20rem;\r\n        padding: 1rem 8rem;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import script from \"./index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=4761cc51&scoped=true&lang=less\"\n\nimport exportComponent from \"C:\\\\Users\\\\qingskd\\\\Desktop\\\\music\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4761cc51\"]])\n\nexport default __exports__"],"names":["defineStore","state","artistList","more","isSongsShow","artist","songsList","actions","async","query","type","area","offset","initial","reqArtist","this","artists","id","songs","reqArtistSongS","code","router","useRouter","retreats","props","isShow","back","artistState","goSearch","push","path","__exports__","itemMusicStore","detailSongs","storeToRefs","switchover","index","playListIndex","playList","artistStore","computed","artistStroe","place","ref","sex","getSex","value","getClassifySinger","getPlace","placeAll","reactive","name","sexAll","loading","finished","onLoad","getArtist","goartistSongs","item","getSongs"],"sourceRoot":""}