{"version":3,"file":"js/412.28dd35ac.js","mappings":"iIAGA,QAAeA,EAAAA,EAAAA,IAAY,QAAQ,CAC/BC,QACI,MAAO,CACHC,gBAAe,EACfC,SAASC,KAAKC,MAAMC,aAAaC,QAAQ,cAAgB,KAGjEC,QAAQ,CAENC,eAAgBC,GACZ,IAAI,SAACC,EAAD,SAAUC,GAAYF,EACtBG,QAAcC,EAAAA,EAAAA,IAASH,EAASC,GACpC,GAAkB,MAAfC,EAAME,KAAa,CACpB,IAAI,MAACC,EAAD,QAAOC,GAAWJ,EAClBV,EAAW,CACbe,cAAcD,GAASC,cACvBC,SAASF,GAASE,UAKpB,OAHAC,KAAKjB,SAASA,EACdG,aAAae,QAAQ,QAAQL,GAC7BV,aAAae,QAAQ,WAAWjB,KAAKkB,UAAUnB,IACxC,U,keCJnB,MAAMoB,GAASC,EAAAA,EAAAA,MAETC,EAAOF,EAAOG,aAAaC,MAAMF,KAGjCG,EAAc,KAClBL,EAAOM,KAAK,CAACJ,KAAK,OAGdK,EAAO,KACXP,EAAOM,KAAK,CAACJ,KAAK,SAEpBM,QAAQC,MAER,MAAMC,EAAW,KACfV,EAAOM,KAAK,CAACJ,KAAK,a,wTC7BpB,MAAMS,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,S,05RCyBA,MAAMX,GAASC,EAAAA,EAAAA,MAGTvB,GAAQkC,EAAAA,EAAAA,KAERhC,GAAWiC,EAAAA,EAAAA,KAAS,IACjBnC,EAAME,WAGTkC,EAAU,KACdd,EAAOM,KAAK,CAACJ,KAAK,YAIda,EAAS7B,UACb,IAAI8B,QAAcC,EAAAA,EAAAA,MACD,MAAdD,EAAMxB,OACPd,EAAME,SAAW,GACnBG,aAAamC,WAAW,SACxBnC,aAAamC,WAAW,YACxB,YAAc,U,oZC/ChB,MAAMP,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE","sources":["webpack://music/./src/store/login.js","webpack://music/./src/components/Navigation.vue","webpack://music/./src/components/Navigation.vue?399a","webpack://music/./src/views/My/index.vue","webpack://music/./src/views/My/index.vue?217a"],"sourcesContent":["import {defineStore} from 'pinia'\r\nimport {reqLogin} from '../api/index'\r\n\r\nexport default defineStore(\"login\",{\r\n    state(){\r\n        return {\r\n            isShowRegister:false,\r\n            userInfo:JSON.parse(localStorage.getItem(\"userInfo\")) || {}\r\n        }\r\n    },\r\n    actions:{\r\n        // 登录\r\n      async  getLogin(query){\r\n          let {username,password} = query\r\n          let login = await reqLogin(username,password)\r\n          if(login.code === 200){\r\n            let {token,profile} = login\r\n            let userInfo = {\r\n              backgroundUrl:profile?.backgroundUrl,\r\n              nickname:profile?.nickname\r\n            }\r\n            this.userInfo=userInfo\r\n            localStorage.setItem(\"token\",token)\r\n            localStorage.setItem(\"userInfo\",JSON.stringify(userInfo))\r\n            return 200\r\n          }\r\n        }\r\n    }\r\n})","<template>\r\n  <!-- 导航栏 -->\r\n  <div class=\"navigation\">\r\n    <svg class=\"icon\" aria-hidden=\"true\">\r\n      <use xlink:href=\"#icon-gengduo\"></use>\r\n    </svg>\r\n    <div class=\"nav-content\">\r\n      <span @click=\"goMy\" :class=\"{'recommend':path==='/my'}\">我的</span>\r\n      <span @click=\"goRecommend\" :class=\"{'recommend':path==='/home'}\">推荐</span>\r\n      <span>电台</span>\r\n      <span>视频</span>\r\n    </div>\r\n    <svg class=\"icon\" aria-hidden=\"true\" @click=\"goSearch\">\r\n      <use xlink:href=\"#icon-sousuo\"></use>\r\n    </svg>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport {useRouter} from 'vue-router'\r\nconst router = useRouter()\r\n\r\nconst path = router.currentRoute.value.path\r\n\r\n// 跳转首页\r\nconst goRecommend = () => {\r\n  router.push({path:\"/\"})\r\n}\r\n// 跳转我的页\r\nconst goMy = () => {\r\n  router.push({path:\"/my\"})\r\n}\r\nconsole.log( );\r\n// 跳转搜索页\r\nconst goSearch = () => {\r\n  router.push({path:\"/search\"})\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.navigation {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  .nav-content {\r\n    display: flex;\r\n    flex: 1;\r\n    justify-content: space-around;\r\n    font-size: 20rem;\r\n    align-items: center;\r\n  }\r\n  .recommend {\r\n    font-weight: 900;\r\n  }\r\n}\r\n</style>","import script from \"./Navigation.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Navigation.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Navigation.vue?vue&type=style&index=0&id=287bed41&scoped=true&lang=less\"\n\nimport exportComponent from \"C:\\\\Users\\\\qingskd\\\\Desktop\\\\music\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-287bed41\"]])\n\nexport default __exports__","<template>\r\n  <div class='my'>\r\n    <Navigation />\r\n     <div class=\"top\" v-if=\"!userInfo.backgroundUrl\">\r\n      <div class=\"name\">\r\n        <img src=\"../../assets/userLogin.jpg\" alt=\"\">\r\n      <span @click=\"goLogin\">登录</span>\r\n      </div>\r\n     </div>\r\n     <div class=\"top\" v-else>\r\n       <div class=\"name\">\r\n         <img :src=\"userInfo?.backgroundUrl\" alt=\"\">\r\n      <span>{{userInfo?.nickname}}</span>\r\n       </div>\r\n       <span @click=\"logout\">退出登录</span>\r\n     </div>\r\n     <div class=\"content\">\r\n       <div class=\"collect\">\r\n         收藏歌曲\r\n       </div>\r\n       <div class=\"recently\">\r\n         最近播放\r\n       </div>\r\n     </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport {computed} from 'vue'\r\nimport {reqLogout} from '../../api/index'\r\nimport { Toast} from \"vant\"\r\nimport Navigation from '../../components/Navigation.vue'\r\nimport {useRouter} from \"vue-router\"\r\nconst router = useRouter()\r\nimport loginStore from '../../store/login'\r\nimport login from '../../store/login'\r\nconst state = loginStore()\r\n\r\nconst userInfo = computed(()=>{\r\n  return state.userInfo\r\n})\r\n// 跳转登录\r\nconst goLogin = () => {\r\n  router.push({path:\"/login\"})\r\n}\r\n\r\n// 退出登录\r\nconst logout = async () => {\r\n  let logut = await reqLogout()\r\n  if(logut.code ===200){\r\n    state.userInfo = {}\r\n  localStorage.removeItem(\"token\")\r\n  localStorage.removeItem(\"userInfo\")\r\n  Toast.success('退出成功');\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped lang='less'>\r\n.my{\r\n  padding: 20rem;\r\n  .top{\r\n    padding: 10rem;\r\n    box-shadow: 1rem 1rem 10rem rgba(0, 0, 0, 0.3);\r\n    margin-top: 20rem;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    display: flex;\r\n    .name{\r\n    display: flex;\r\n    align-items: center;  \r\n    img{\r\n      width: 70rem;\r\n      height: 70rem;\r\n      border-radius: 50%;\r\n    }\r\n    span{\r\n      font-size: 20rem;\r\n      margin-left:20rem ;\r\n\r\n    }\r\n    }\r\n  }\r\n  .content{\r\n    width: 100%;\r\n    height: 60rem;\r\n    margin-top: 20rem;\r\n    display: flex;\r\n    line-height: 60rem;\r\n    .collect,.recently{\r\n      text-align: center;\r\n      width: 120rem;\r\n      height: 100%;\r\n      background: rgba(0, 0, 0, 0.3); \r\n      border-radius: 20rem;\r\n    }\r\n    .recently{\r\n       margin-left: 10rem;\r\n    }\r\n  }\r\n}\r\n</style>","import script from \"./index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=24b3c116&scoped=true&lang=less\"\n\nimport exportComponent from \"C:\\\\Users\\\\qingskd\\\\Desktop\\\\music\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-24b3c116\"]])\n\nexport default __exports__"],"names":["defineStore","state","isShowRegister","userInfo","JSON","parse","localStorage","getItem","actions","async","query","username","password","login","reqLogin","code","token","profile","backgroundUrl","nickname","this","setItem","stringify","router","useRouter","path","currentRoute","value","goRecommend","push","goMy","console","log","goSearch","__exports__","loginStore","computed","goLogin","logout","logut","reqLogout","removeItem"],"sourceRoot":""}